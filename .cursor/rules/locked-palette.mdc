---
description: Enforce the locked v5 steel-teal color palette and styling standards
globs: **/*.{svelte,astro,css,ts,tsx,js,jsx}
alwaysApply: false
---

# Locked Palette v5 - NEVER DEVIATE

```css
--deep: #141a20;      /* darkest - base background */
--base: #2a3844;
--mid: #445868;
--light: #627888;
--accent: #8498a6;
--highlight: #a6b6c2; /* lightest - text, glows */

/* Legible text overrides */
--text-body: #d4dde4;    /* Very bright steel-teal for body */
--text-heading: #e8f0f5;  /* Nearly white steel-teal for headings */
```

## NO INLINE STYLES (except dynamic tooltips)

NEVER use inline styles EXCEPT for:
- Dynamic tooltip positioning (`.style('left', ...)`, `.style('top', ...)`)
- Required D3 transform attributes

All other styling must be in CSS classes using CSS custom properties.

BAD:
```typescript
element.style('fill', '#4ade80');
element.style('font-size', '12px');
element.attr('fill', '#60a5fa');
```

GOOD:
```typescript
element.attr('class', 'line-measured');
element.attr('class', 'graph-node');
```

```css
:global(.line-measured) {
  fill: none;
  stroke: var(--highlight);
  stroke-width: 3;
}

:global(.graph-node) {
  fill: var(--accent);
}
```

## Text Legibility

ALL text must use legible colors:
- Body text: `var(--text-body)` or `#d4dde4`
- Headings: `var(--text-heading)` or `#e8f0f5`
- Never use `var(--light)` or `var(--accent)` for text content

## BANNED COLORS

NEVER use:
- Neon colors (bright green #4ade80, bright blue #60a5fa, bright red #f87171)
- Pure saturated colors
- Colors outside the steel-teal range
- Vaporwave pink
- Corporate grey-blue

## Backgrounds Must Be Solid

Cards and containers MUST have high opacity for legibility:

```css
background: rgba(42, 56, 68, 0.9);  /* 0.9 opacity minimum */
border: 1px solid rgba(166, 182, 194, 0.4);
```

NOT:
```css
background: rgba(68, 88, 104, 0.1);  /* Too transparent */
```
