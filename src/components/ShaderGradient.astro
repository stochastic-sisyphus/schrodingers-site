---
/**
 * ShaderGradient Component
 * WebGL shader-based gradient layer beneath canvas particles
 * Renders organic flowing gradients using simplex noise
 */
---

<canvas id="shader-canvas"></canvas>

<script>
  import { ShaderManager } from '../lib/shaders/gradient-shader';

  // Initialize WebGL shader gradient
  const canvas = document.getElementById('shader-canvas');
  if (canvas instanceof HTMLCanvasElement) {
    try {
      // Set initial canvas size
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      // Create and start shader manager
      // ShaderManager handles resize and cleanup listeners internally
      const shaderManager = new ShaderManager(canvas);
      shaderManager.start();
    } catch (error) {
      console.error('Failed to initialize WebGL shader:', error);
      // Fallback: canvas will remain empty, static gradient still visible
    }
  }
</script>

<style>
  #shader-canvas {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    pointer-events: none;
  }
</style>
